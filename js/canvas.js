"use strict";!function(){var u=150,l=5,i=2,e=document.querySelector(".graph__canvas--inner"),t=document.querySelector(".graph__button--reset"),n=document.querySelector(".graph__button--random"),d=document.querySelector(".graph__input"),r=document.querySelector("select"),o=document.getElementById("canvas"),h=o.getContext("2d"),a={x:o.getBoundingClientRect().x,y:o.getBoundingClientRect().y},g=!0,y=[],s=function(e,t){return t=t||0,Math.round(Math.random()*(e-t)+t)},c=function(){o.width=e.clientWidth,o.height=e.clientHeight,a={x:o.getBoundingClientRect().x,y:o.getBoundingClientRect().y},y.length=0},v=function(r){var e,t,n,i,o=g?"rgb("+s(255)+","+s(255)+","+s(255)+")":d.value,a=new Date;e=r.x,t=r.y,n=o,(i={}).x=e,i.y=t,i.color=n,y.push(i);var c=setInterval(function(){var e,t=new Date-a,n=t/u;u<t?clearInterval(c):(e=n,h.beginPath(),h.arc(r.x,r.y,6*e,0,2*Math.PI,!0),h.fillStyle=o,h.fill())},l)},f=function(t,n){var r,i,o,a=n.x-t.x,c=(n.y-t.y)/a,u=t.x,l=t.y,d=n.x,g=n.y;r=1500,i=function(e){h.beginPath(),h.lineWidth=3,h.strokeStyle=t.color,h.moveTo(u,l),a*=1-e,d=n.x-a,g=n.y-a*c,h.lineTo(d,g),h.stroke(),u=d,l=g},o=performance.now(),requestAnimationFrame(function e(t){var n=(t-o)/r;1<n&&(n=1),i(n),n<1&&requestAnimationFrame(e)})};o.addEventListener("click",function(e){var t;v({x:(t=e).clientX+window.pageXOffset-a.x,y:t.clientY+window.pageYOffset-a.y});for(var n=y.length-1,r=1;r<=i&&y[n-r];)f(y[n],y[n-r]),r++}),t.addEventListener("click",function(){h.clearRect(0,0,o.width,o.height),c()}),r.addEventListener("change",function(e){i=e.target.value}),n.addEventListener("click",function(){g=!0}),d.addEventListener("change",function(e){g=!1,e.target.style.borderColor=e.target.value}),window.addEventListener("resize",c)}();
