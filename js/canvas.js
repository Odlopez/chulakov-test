"use strict";!function(){var a=150,u=5,r=2,e=document.querySelector(".graph__canvas--inner"),t=document.querySelector(".graph__button--reset"),n=document.querySelector(".graph__button--random"),l=document.querySelector(".graph__input"),i=document.querySelector("select"),o=document.getElementById("canvas"),h=o.getContext("2d"),c={x:o.getBoundingClientRect().x,y:o.getBoundingClientRect().y},d=!0,g=[],y=function(e,t){return t=t||0,Math.round(Math.random()*(e-t)+t)},s=function(){o.width=e.clientWidth,o.height=e.clientHeight,c={x:o.getBoundingClientRect().x,y:o.getBoundingClientRect().y},g.length=0},f=function(n){var e,t,i,r,o=d?"rgb("+y(255)+","+y(255)+","+y(255)+")":l.value,c=new Date;e=n.x,t=n.y,i=o,(r={}).x=e,r.y=t,r.color=i,g.push(r);setInterval(function(){var e,t=new Date-c;a<t||(e=t/a,h.beginPath(),h.arc(n.x,n.y,6*e,0,2*Math.PI,!0),h.fillStyle=o,h.fill())},u)},v=function(t,n){var i,r,o,c=n.x-t.x,a=(n.y-t.y)/c,u=t.x,l=t.y,d=n.x,g=n.y;i=1500,r=function(e){h.beginPath(),h.lineWidth=3,h.strokeStyle=t.color,h.moveTo(u,l),c*=1-e,d=n.x-c,g=n.y-c*a,h.lineTo(d,g),h.stroke(),u=d,l=g},o=performance.now(),requestAnimationFrame(function e(t){var n=(t-o)/i;1<n&&(n=1),r(n),n<1&&requestAnimationFrame(e)})};o.addEventListener("click",function(e){var t;f({x:(t=e).clientX+window.pageXOffset-c.x,y:t.clientY+window.pageYOffset-c.y});for(var n=g.length-1,i=1;i<=r&&g[n-i];)v(g[n],g[n-i]),i++}),t.addEventListener("click",function(){h.clearRect(0,0,o.width,o.height),s()}),i.addEventListener("change",function(e){r=e.target.value}),n.addEventListener("click",function(){d=!0}),l.addEventListener("change",function(e){d=!1,e.target.style.borderColor=e.target.value}),window.addEventListener("resize",s)}();